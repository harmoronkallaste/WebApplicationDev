<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Blog Landing Page</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/home.css">
    <script src="https://kit.fontawesome.com/9a2c1412cd.js" crossorigin="anonymous"></script>
</head>
<body>

    <header class="header">
        <div class="header-content">
            <nav>
                <ul>
                    <li>
                        <a href="login.html">
                            <i class="fa-solid fa-house"></i> <span>Home</span>
                        </a>
                    </li>
                    <li class="seperator">
                        |
                    </li>
                    <li>
                        <a href="addPost.html">
                            <i class="fa-solid fa-plus"></i> <span>Add post</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="profile-pic">
                <h4>hkallaste</h4>
                <img src="assets/images/profilepic.jpg">
            </div> 
        </div>
    </header>

    <div class="container">
        <main class="main-content" id="posts-container">
            <template id="post-template">
                <div class="post">
                    <div class="post-header">
                        <div class="author-pic">
                            <img src="" class="author-img">
                        </div>
                        <span class="post-author"></span>
                        <span class="post-date"></span>
                    </div>
                    <hr class="solid">
                    <div class="post-body">
                        <img src="" alt="Post Image" class="post-image">
                        <p class="post-text"></p>
                    </div>
                    <hr class="solid">
                    <div class="post-footer">
                        <button class="engagement">
                            <i class="fa-regular fa-heart"></i> Like
                        </button>
                        <button class="engagement">
                            <i class="fa-regular fa-comment"></i> Comment
                        </button>
                        <button class="engagement">
                            <i class="fa-solid fa-retweet"></i> Share
                        </button>
                    </div>
                </div>
            </template>
        </main>    
    </div>

    <footer class="footer">
        <h4>Web Application Development - Homework 1</h4>
        <p>Harmo-Ron Kallaste, Reno Feliks Lindvere, Ron Aaron Vahtra</p>
    </footer>

    <script>
        // JavaScript to clone the template and insert it into the DOM
        const postsContainer = document.getElementById('posts-container');
        const postTemplate = document.getElementById('post-template').content;

        // Example post data
        const posts = [
            {
                author: 'hkallaste',
                profile_pic: 'assets/images/profilepic.jpg',
                date: 'Oct 2, 2022',
                text: `Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris 
                nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in 
                reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla 
                pariatur. Excepteur sint occaecat cupidatat non proident, sunt in 
                culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum 
                dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor 
                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo 
                consequat. Duis aute irure dolor in reprehenderit in voluptate velit 
                esse cillum dolore eu fugiat nulla pariatur.`,
                imgSrc: 'assets/images/profilepic.jpg',
            },
            {
                author: 'rkreem2002',
                profile_pic: 'assets/images/robin.jpg',
                date: 'Oct 1, 2022',
                text: 'Loving the fall weather!',
                imgSrc: '',
            },
            {
                author: 'jkreem098',
                profile_pic: 'assets/images/jaagup.jpg',
                date: 'Sep 19, 2022',
                text: 'Leidsin hiljuti uue laheda bandi - Analoog. Soovitan kuulata!',
                imgSrc: 'assets/images/band1.jpg',
            },
            {
                author: 'John Doe',
                profile_pic: 'assets/images/koos.jpg',
                date: 'Sep 10, 2022',
                text: 'Marcus is a fictional character who loves exploring new places and meeting new people. He has a knack for storytelling and often shares his adventures with friends.',
                imgSrc: '',
            },
            {
                author: 'MarcusAurelius',
                profile_pic: 'assets/images/koos.jpg',
                date: 'Aug 30, 2022',
                text: ' Artificial intelligence (AI) is transforming industries by automating tasks, enhancing decision-making, and enabling new capabilities. From healthcare to finance, AI-driven solutions are improving efficiency and accuracy. Machine learning, a subset of AI, allows systems to learn from data and improve over time without explicit programming. Natural language processing (NLP) enables machines to understand and respond to human language, revolutionizing customer service and communication. As AI technology advances, ethical considerations and responsible deployment become crucial to ensure benefits are maximized while minimizing potential risks. The future of AI holds immense potential for innovation and societal impact.',
                imgSrc: '',
            },
            {
                author: 'xXx_rasmusMade_xXx',
                profile_pic: 'assets/images/band2.jpg',
                date: 'Aug 20, 2022',
                text: 'ma sain cs-is rank upi!',
                imgSrc: '',
            }
        ];

        // Function to create a post
        function createPost(postData) {
            const clone = document.importNode(postTemplate, true); // Clone the template

            // Fill the cloned template with data
            clone.querySelector('.post-author').textContent = postData.author;
            clone.querySelector('.post-date').textContent = postData.date;
            clone.querySelector('.post-text').textContent = postData.text;

            const authorPicElement = clone.querySelector('.author-img');
            if (postData.profile_pic) {
                authorPicElement.src = postData.profile_pic;
            } else {
                authorPicElement.style.display = 'none'; // Hide the image if no src
            }
            
            const imgElement = clone.querySelector('.post-image');
            if (postData.imgSrc) {
                imgElement.src = postData.imgSrc;
            } else {
                imgElement.style.display = 'none'; // Hide the image if no src
            }

            postsContainer.appendChild(clone); // Append the post to the container
        }

        // Create all posts
        posts.forEach(postData => createPost(postData));
    </script>
</body>
</html>
